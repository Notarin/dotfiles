which_term(){
    term=$(ps -p $(ps -p $$ -o ppid=) -o args=);
    found=0;
    case $term in
        *gnome-terminal*)
            found=1
            echo "gnome-terminal"
            ;;
        *lxterminal*)
            found=1
            echo "lxterminal"
            ;;
        rxvt*)
            found=1
            echo "rxvt"
            ;;
        ## Try and guess for any others
        *)
            for v in '-version' '--version' '-V' '-v'
            do
                $term "$v" &>/dev/null && eval $term $v && found=1 && break
            done
            ;;
    esac
    ## If none of the version arguments worked, try and get the 
    ## package version
    [ $found -eq 0 ] && echo "$term "    
}

var() {
    var="$*"
}

nano () {
	cowsay "Try nvim instead"
	print -z "nvim  $*"
}

vim () {
	cowsay "Try nvim instead"
	print -z "nvim  $*"
}

nvim () {
  local found=false
  if [ -z "$1" ]; then
    /usr/bin/nvim
  elif [ -f "${1}" ]; then
    if [ -w "${1}" ]; then
      /usr/bin/nvim "${1}"
    else
      sudo /usr/bin/nvim "${1}"
    fi
  else
    while read -r dir; do
      local matching_file=$(find "$dir" -maxdepth 1 -type f -name "${1}*" -print -quit)
      if [ -n "$matching_file" ]; then
        if [ -w "$matching_file" ]; then
          /usr/bin/nvim "$matching_file"
        else
          sudo /usr/bin/nvim "$matching_file"
        fi
        found=true
        break
      fi
    done < <(zoxide query -l)

    [ "$found" = false ] && echo "File not found"
  fi
}

lad () {
    nohup "$@" >/dev/null 2>&1
}

sulad () {
    nohup sudo "$@" >/dev/null 2>&1
}

insomz () {
    sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
}
